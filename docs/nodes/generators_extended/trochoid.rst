Trochoid
========

Functionality
-------------
The trochoid node creates a wide variety of 2D line patterns generated by a point connected to a moving circle rolling on a static circle or on a straight line. Some typical patterns are: cardioid (heart shape), cycloid, deltoid, astroid (star shape) etc. Generally, most of these patterns are spiral like, petal like, flat torus knot like, ovoidal like, braided like type of shapes.

Based on the values of the main parameters (radii & height) and whether the moving circle is inside or outside of the static circle, the patterns generated are grouped into three categories: EPI, HYPO and LINE.

The EPI trochoids are the ones generated by the moving circle rolling on the outside of the static circle.

The HYPO trochoids are the ones generated by the moving circle rolling on the inside of the static circle, or the inside of the moving circle rolling onto the static circle.

The LINE trochoids are called cycloids and are generated by the moving circle rolling on a straight line.

The main parameters for the curve are the radius of the static circle, the radius of the moving circle and the height of the "drawing" point relative to the moving circle center. Additional parameters allow to further tweak the curves (phase, turns, resolution and scale).

Inputs
------

All inputs are vectorized and they will accept single or multiple values.

- **Radius1** [1]
- **Radius2**
- **Height**
- **Phase1**
- **Phase2**
- **Turns**
- **Resolution**
- **Scale** [2]

Notes:
[1] : For LINE mode the Radius1 is actually infinite and is simply ignored in generation of the cycloid patterns
[2] : The scale affects the main parameters: radii & height

Parameters
----------

The **Trochoid Type** parameter allows to select one of the three modes: **EPI**, **LINE** and **HYPO**.

- In **EPI** mode the ellipse is defined by the major radius (a) and minor radius (b).
- In **HYPO** mode the ellipse is defined by the major radius (a) and the eccentricity (e).
- In **LINE** mode the ellipse is defined by the major radius (a) and the focal length (c).

Note: when switching modes the main ellipse parameters for the new mode are derived based on the main parameters of the previous mode as to keep the ellipse the same.

The **Centering** parameter lets you center the ellipse around one of its focal points F1 or F2 or around its center C.

All parameters except **Mode** and **Centering** can take values from the node itself or an external input.

The inputs are "sanitized" to restrict their values to valid domains:
- Major radius (a) and Minor radius (b) are floats with values >= 0.0 and b <= a
- Eccentricity is a float with value in the range [0.0, 1.0]
- Focal Length is a float with value in the reange [0.0, a]
- Number of vertices is an integer with value >= 3

+----------------+--------+---------+--------------------------------------------------------------------+
| Param          | Type   | Default | Description                                                        |
+================+========+=========+====================================================================+
| **Radius1**    | Float  | 6.0     | Radius of the static circle [1]                                    |
+----------------+--------+---------+--------------------------------------------------------------------+
| **Radius2**    | Float  | 1.0     | Radius of the moving circle                                        |
+----------------+--------+---------+--------------------------------------------------------------------+
| **Height**     | Float  | 5.0     | Distance from the drawing point to the center of the moving circle |
+----------------+--------+---------+--------------------------------------------------------------------+
| **Phase1**     | Float  | 0.0     | The starting angle on the static circle                            |
+----------------+--------+---------+--------------------------------------------------------------------+
| **Phase2**     | Float  | 0.0     | The starting angle on the moving circle                            |
+----------------+--------+---------+--------------------------------------------------------------------+
| **Turn**       | Float  | 1.0     | Number of turns arond the static circle                            |
+----------------+--------+---------+--------------------------------------------------------------------+
| **Resolution** | Int    | 200     | Number of vertices in a complete turn around the static circle     |
+----------------+--------+---------+--------------------------------------------------------------------+
| **Scale**      | Float  | 1.0     | Scale the main parameters (radii & height)                         |
+----------------+--------+---------+--------------------------------------------------------------------+

Notes:
[1] : Radius1 is only used for EPI and HYPO trochoids

Outputs
-------
Outputs will be generated when connected.

**Verts**, **Edges**
These are the vertices and edges of the trochoid curves.

Example of usage
----------------



└── Trochoids
    ├── Linear Trochoids
    │   ├── Common Cycloid
    │   ├── Curtate Cycloid
    │   └── Prolate Cycloid
    ├── EpiTrochoids
    │   ├── Common EpiCycloids
    │   │   ├── Cardioid (1)
    │   │   ├── Nephroid (2)
    │   │   └── Ranunculoid (5)
    │   ├── Curtate EpiCycloids
    │   └── Prolate EpiCycloids
    └── HypoTrochoids (Spirographs)
        ├── Common HypoCycloids
        │   ├── Deltoid (3)
        │   └── Astroid (4)
        ├── Curtate HypoCycloids
        └── Prolate HypoCycloids

interesting settings (epi + hypo):
6 3 1
10 1 9
6 2 5
6 1 5
2 1 1
12 7 11
13 12 12
6 1 13
10 3 9
12 3 11
12 2 11
13 6 12
6 11 13
11 3 10
5 2 4
7 5 10
8 2 2
7 6 6
6 1 4
7 2 2
9 1 8

